{% load coogger_tags %}
<div general="border:1 br:2 brc:muted width:100 text:s ">
    <div general="flex flex:jc-sa" style="padding: 12px 8px;">
        <a href="{% url 'commits' current_user utopic.permlink %}">
          <div general="flex flex:ai-c" mobile-s="text:xs">
            <i class="fas fa-history"></i>
            <span id="commits_count">
              <span general="color:secondary" class="just-pc">
                commits
              </span>
              <strong>
                {{ utopic.commit_count }}
              </strong>
            </span>
          </div>
        </a>
        <a href="{% url 'issues' current_user utopic.permlink %}" mobile-s="text:xs">
            <div general="flex flex:ai-c text:s ">
              <i class="fas fa-exclamation-circle"></i>
              <span id="">
                <span general="color:secondary" class="just-pc">
                  issues
                </span>
                <strong>{{ utopic.open_issue }}</strong>
              </span>
            </div>
          </a>
          <a href="{% url 'utopic-contribution' current_user utopic.permlink %}" 
          mobile-s="text:xs">
            <div general="flex flex:ai-c text:s ">
              <i class="fas fa-plus"></i>
              <span id="">
                <span general="color:secondary" class="just-pc">
                  contributions
                </span>
                <strong>{{ utopic.open_contribution }}</strong>
              </span>
            </div>
          </a>
          <a href="{% url 'utopic-contributors' current_user utopic.permlink %}" 
          mobile-s="text:xs">
            <div general="flex flex:ai-c text:s ">
              <i class="fas fa-user-friends"></i>
              <span id="">
                <span general="color:secondary" class="just-pc">contributors</span>
                <strong>{{ utopic.contributors_count }}</strong>
              </span>
            </div>
          </a>
        <div general="flex text:s flex:ai-c" mobile-s="text:xs">
          <div style="margin-left: 12px;">
              <i class="fab fa-readme"></i>
              <span>{{ utopic.get_total_dor|default:"0 min" }}</span>
          </div>
        </div>
        <div general="flex text:s flex:ai-c" mobile-s="text:xs">
            <div style="margin-left: 12px;">
              <i class="fas fa-eye"></i>
              <span general="color:secondary" class="just-pc"> views</span>
              <span>{{ utopic.total_view }}</span>
            </div>
        </div>
        {% if last_update %}
        <div general="flex text:s position:right flex:ai-c" class="just-pc" mobile-s="text:xs">
            <div>
              <i class="fas fa-clock"></i>
              <span>Last update | {{ last_update|timesince }}</span>
            </div>
        </div>
        {% endif %}
      </div>
    </div>
    <!-- utopic info %? category, %? language -->
  <div general="border:1 brc:muted br:2 flex flex:ai-c" style="padding: 6px 12px;margin-top: 6px;">
      <div general="flex width:100 flex:ai-c text:s">
        <i class="fa fa-list-alt" title="categories"></i>
        <div general="flex width:90 flex:fw-nw position:center flex:ai-c">
          {% for category in utopic|calculate_percent_utopic:"category" %}
          <div general="bg:orange br:1 flex flex:fw-nw text:s" class="topic_percent" style="width: {{ category.percent }};">
            {{ category.model.name|truncatechars:8 }}; {{ category.percent }}
          </div>
        {% endfor %}
        </div>
    </div>
  </div>
  <div general="border:1 brc:muted br:2 flex flex:ai-c" style="padding: 6px 12px;margin-top: 6px;">
    <div general="flex width:100 flex:ai-c text:s">
      <i class="fa fa-list-alt" title="categories"></i>
      <div general="flex width:90 flex:fw-nw position:center flex:ai-c">
        {% for language in utopic|calculate_percent_utopic:"language" %}
        <div general="bg:orange br:1 flex flex:fw-nw text:s" class="topic_percent" style="width: {{ language.percent }}">
          {{ language.model|truncatechars:8 }}; {{ language.percent }}
        </div>
      {% endfor %}
      </div>
  </div>
</div>
