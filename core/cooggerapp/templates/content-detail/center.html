{% load django_md_editor %}
{% load coogger_tags %}
<div general="width:50" tablet="width:80" mobile-l="width:80" mobile-m="width:90" mobile-s="width:98">
    <div style="padding: 12px;">
        {% include 'content-detail/contentinfo.html' %}
        {% include 'content-detail/userinfo.html' %}
        <h1 general="position:center text:xxl" id="title" style="margin: 12px auto;">
          <strong>{{ queryset.title|title }}</strong>
        </h1>
        <div style="padding: inherit;">
          {{ queryset.body|markdown_to_html:"detail-body"|safe }}
        </div>
        <div class="tags" id="tags" general="flex flex:jc-sa position:right bg:dark-purple text:s" ></div>
        <!-- tags -->
        <div general="flex position:right text:s color:secondary" >
          {% for tag in queryset.tags|split:" " %}
            <span style="margin-left: 6px;">#{{ tag }}</span>
          {% endfor %}
        </div>
        <div style="margin: 10% 0px;"></div>
        <!-- replies -->
        <script type="text/javascript">
          $(document).ready(function() {
            let load_comments = true;
              if (load_comments && scrolledbottom()){
                  load_comments = false;
                  load_replies("{{ queryset.id }}", "content")
              }
              else{
                $(window).scroll(function() {
                    if (load_comments && scrolledbottom()){
                      load_comments = false;
                      load_replies("{{ queryset.id }}", "content")
                    }
                  });
              }
        });
        </script>
        {% include 'form/reply.html' %}
        <!-- replies -->
    </div>
</div>