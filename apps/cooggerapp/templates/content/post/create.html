{% extends "home/html.html" %}
{% block body %}
<div class="create" id="edit" general="flex flex:jc-c flex:ai-c flex:fd-c position:center width:100" style="margin-top: 30px;">
  {% include 'forms/create_form.html' %}
</div>
<div general="width:50 position:center flex flex:fd-c">
  <div general="width:100" id="preview"></div>
</div>
{% endblock body %}

{% block script %}
<script>
  $(document).ready(function() {
    let bodyNode = document.getElementById("id_body");
    bodyNode.addEventListener('change', (event) => {
      document.getElementById("preview").innerHTML = window.markdownit().render(bodyNode.value);

      document.querySelectorAll('#preview pre code').forEach((block) => {
        hljs.highlightBlock(block);
      });

    });
  });
</script>
{% endblock script%}
